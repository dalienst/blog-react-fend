{"ast":null,"code":"import React from 'react';\nimport useAuthenticator from '../useAuthenticator/useAuthenticator.js'; // only select `route` from machine context\n\nconst routeSelector = _ref => {\n  let {\n    route\n  } = _ref;\n  return [route];\n};\n\nfunction useAuthenticatorInitMachine(data) {\n  const {\n    route,\n    initializeMachine\n  } = useAuthenticator(routeSelector);\n  const hasInitialized = React.useRef(false);\n  React.useEffect(() => {\n    if (!hasInitialized.current && route === 'setup') {\n      initializeMachine(data);\n      hasInitialized.current = true;\n    }\n  }, [initializeMachine, route, data]);\n}\n\nexport { useAuthenticatorInitMachine as default, routeSelector };","map":{"version":3,"sources":["/home/dalienst/node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/hooks/useAuthenticatorInitMachine/useAuthenticatorInitMachine.js"],"names":["React","useAuthenticator","routeSelector","route","useAuthenticatorInitMachine","data","initializeMachine","hasInitialized","useRef","useEffect","current","default"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,gBAAP,MAA6B,yCAA7B,C,CAEA;;AACA,MAAMC,aAAa,GAAG;AAAA,MAAC;AAAEC,IAAAA;AAAF,GAAD;AAAA,SAAe,CAACA,KAAD,CAAf;AAAA,CAAtB;;AACA,SAASC,2BAAT,CAAqCC,IAArC,EAA2C;AACvC,QAAM;AAAEF,IAAAA,KAAF;AAASG,IAAAA;AAAT,MAA+BL,gBAAgB,CAACC,aAAD,CAArD;AACA,QAAMK,cAAc,GAAGP,KAAK,CAACQ,MAAN,CAAa,KAAb,CAAvB;AACAR,EAAAA,KAAK,CAACS,SAAN,CAAgB,MAAM;AAClB,QAAI,CAACF,cAAc,CAACG,OAAhB,IAA2BP,KAAK,KAAK,OAAzC,EAAkD;AAC9CG,MAAAA,iBAAiB,CAACD,IAAD,CAAjB;AACAE,MAAAA,cAAc,CAACG,OAAf,GAAyB,IAAzB;AACH;AACJ,GALD,EAKG,CAACJ,iBAAD,EAAoBH,KAApB,EAA2BE,IAA3B,CALH;AAMH;;AAED,SAASD,2BAA2B,IAAIO,OAAxC,EAAiDT,aAAjD","sourcesContent":["import React from 'react';\nimport useAuthenticator from '../useAuthenticator/useAuthenticator.js';\n\n// only select `route` from machine context\nconst routeSelector = ({ route }) => [route];\nfunction useAuthenticatorInitMachine(data) {\n    const { route, initializeMachine } = useAuthenticator(routeSelector);\n    const hasInitialized = React.useRef(false);\n    React.useEffect(() => {\n        if (!hasInitialized.current && route === 'setup') {\n            initializeMachine(data);\n            hasInitialized.current = true;\n        }\n    }, [initializeMachine, route, data]);\n}\n\nexport { useAuthenticatorInitMachine as default, routeSelector };\n"]},"metadata":{},"sourceType":"module"}