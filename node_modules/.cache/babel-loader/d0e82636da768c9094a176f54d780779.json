{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { debounce } from \"debounce\";\nimport { createElement, removeElement } from \"../utils\";\nimport { createErrorIcon } from \"./icons\";\nimport { createEditIcon, createPopupStep1Icon, createPopupStep2Icon, createPopupStep3Icon, createPopupStep4Icon, createTrashIcon, createDeleteSuccessIcon, createCloseIcon } from \"./icons\";\nexport function AmplifyGeofenceControlUI(geofenceControl, geofenceControlContainer) {\n  let _addGeofenceContainer;\n\n  let _deleteGeofenceContainer;\n\n  let _addGeofencebutton;\n\n  let _checkboxAll;\n\n  let _geofenceList;\n\n  let _createContainer;\n\n  let _geofenceTitle;\n\n  let _checkBoxAllAndCreateContainer;\n\n  let _checkBoxAllContainer;\n\n  let _circleModeContainer;\n\n  let _polygonModeContainer;\n\n  let _deletePopdownContainer;\n\n  let _errorDiv;\n\n  let _geofenceCreateRadiusInput;\n\n  function registerControlPosition(map, positionName) {\n    if (map._controlPositions[positionName]) {\n      return;\n    }\n\n    const positionContainer = document.createElement(\"div\");\n    positionContainer.className = `maplibregl-ctrl-${positionName}`;\n\n    map._controlContainer.appendChild(positionContainer);\n\n    map._controlPositions[positionName] = positionContainer;\n  }\n  /************************************************************\n   * Create Geofence Controls\n   *************************************************************/\n\n\n  function createGeofenceCreateContainer(isCircle) {\n    const container = createElement(\"div\", \"geofence-ctrl-create-prompt-container\", geofenceControlContainer);\n    _createContainer = createElement(\"div\", \"geofence-ctrl-create-prompt\", container);\n\n    if (isCircle) {\n      /* Create buttons to switch between different modes */\n      const buttonContainer = createElement(\"div\", \"geofence-ctrl-create-prompt-buttons\", _createContainer);\n      const circleModeButton = createElement(\"div\", \"geofence-ctrl-create-prompt-button-circle geofence-ctrl-create-prompt-button\", buttonContainer);\n      circleModeButton.addEventListener(\"click\", () => {\n        // Change button selected style\n        circleModeButton.classList.add(\"geofence-ctrl-create-prompt-selected\");\n        polygonModeButton.classList.remove(\"geofence-ctrl-create-prompt-selected\"); // Switch info box mode\n\n        if (_polygonModeContainer) {\n          removeElement(_polygonModeContainer);\n          _polygonModeContainer = undefined;\n        }\n\n        if (!_circleModeContainer) createCircleModeCreateContainer(_createContainer);\n        geofenceControl.changeMode(\"draw_circle\");\n      });\n      circleModeButton.innerHTML = \"Circle\";\n      const polygonModeButton = createElement(\"div\", \"geofence-ctrl-create-prompt-button-polygon geofence-ctrl-create-prompt-button\", buttonContainer);\n      polygonModeButton.addEventListener(\"click\", () => {\n        geofenceControl.changeMode(\"draw_polygon\"); // Change button selected style\n\n        polygonModeButton.classList.add(\"geofence-ctrl-create-prompt-selected\");\n        circleModeButton.classList.remove(\"geofence-ctrl-create-prompt-selected\"); // Switch info box mode\n\n        if (_circleModeContainer) {\n          removeElement(_circleModeContainer);\n          _circleModeContainer = undefined;\n        }\n\n        if (!_polygonModeContainer) createPolygonModeCreateContainer(_createContainer);\n      });\n      polygonModeButton.innerHTML = \"Custom\";\n      circleModeButton.classList.add(\"geofence-ctrl-create-prompt-selected\");\n      createCircleModeCreateContainer(_createContainer);\n    } else {\n      createPolygonModeCreateContainer(_createContainer);\n    }\n  }\n\n  function createCircleModeCreateContainer(container) {\n    _circleModeContainer = createElement(\"div\", \"geofence-ctrl-create-circle-mode-container\", container);\n    const radiusTitle = createElement(\"div\", \"geofence-ctrl-create-circle-mode-title\", _circleModeContainer);\n    radiusTitle.innerHTML = \"Radius\";\n    _geofenceCreateRadiusInput = createElement(\"input\", \"geofence-ctrl-create-circle-mode-input\", _circleModeContainer);\n\n    _geofenceCreateRadiusInput.addEventListener(\"keydown\", debounce(geofenceControl.updateInputRadius, 200));\n  }\n\n  function createPolygonModeCreateContainer(container) {\n    _polygonModeContainer = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-container\", container);\n    const moreInfoContainer = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-info-container\", _polygonModeContainer);\n    const moreInfoIcon = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-icon\", moreInfoContainer);\n    const letterI = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-info-icon\", moreInfoIcon);\n    letterI.innerHTML = \"i\";\n    const moreInfo = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-title\", moreInfoContainer);\n    moreInfo.innerHTML = \"How it works?\";\n    const resetButton = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-reset-button geofence-ctrl-button\", _polygonModeContainer);\n    resetButton.innerHTML = \"Reset\";\n    resetButton.addEventListener(\"click\", () => {\n      geofenceControl.resetGeofence();\n    }); // Add popup onClick\n\n    const popup = createPolygonModeInfoPopup(moreInfoIcon);\n    moreInfoContainer.addEventListener(\"click\", () => {\n      popup.classList.toggle(\"show\");\n    });\n  }\n\n  function createPolygonModeInfoPopup(container) {\n    const popupContainer = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-popup-container\", container);\n    const popup = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-popup\", popupContainer);\n    createPopupStep(popup, \"Move dots to desired position\", createPopupStep1Icon());\n    createPopupStep(popup, \"Click on a border to create a dot\", createPopupStep2Icon());\n    createPopupStep(popup, \"Click into shape to move\", createPopupStep3Icon());\n    createPopupStep(popup, \"Press delete to remove a dot\", createPopupStep4Icon());\n    return popup;\n  }\n\n  function createPopupStep(container, text, image) {\n    const popupStep = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-popup-step\", container);\n    const popupStepImage = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-popup-step-image\", popupStep);\n    popupStepImage.appendChild(image);\n    const popupStepText = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-popup-step-text\", popupStep);\n    popupStepText.innerHTML = text;\n  }\n\n  function removeGeofenceCreateContainer() {\n    removeElement(_createContainer);\n    _createContainer = undefined;\n    _circleModeContainer = undefined;\n    _polygonModeContainer = undefined;\n  }\n  /************************************************************\n   * Geofence List\n   *************************************************************/\n\n\n  function createGeofenceListContainer() {\n    const geofenceListContainer = createElement(\"div\", \"geofence-ctrl-list-container\", geofenceControlContainer);\n    createGeofenceListHeader(geofenceListContainer);\n    _geofenceList = createElement(\"div\", \"geofence-ctrl-list\", geofenceListContainer);\n\n    _geofenceList.addEventListener(\"scroll\", () => {\n      const {\n        scrollHeight,\n        scrollTop,\n        clientHeight\n      } = _geofenceList;\n\n      if (scrollTop + clientHeight >= scrollHeight - 20) {\n        geofenceControl.loadMoreGeofences();\n      }\n    });\n  }\n\n  function createGeofenceListHeader(geofenceListContainer) {\n    const header = createElement(\"div\", \"geofence-ctrl-list-header\", geofenceListContainer);\n    _geofenceTitle = createElement(\"div\", \"geofence-ctrl-list-header-title\", header);\n    _geofenceTitle.innerHTML = \"Geofences (0)\";\n    _checkBoxAllAndCreateContainer = createElement(\"div\", \"geofence-ctrl-list-header-checkbox-create-container\", header);\n    createCheckboxAllContainer(_checkBoxAllAndCreateContainer);\n  }\n\n  function createCheckboxAllContainer(geofenceListContainer) {\n    _checkBoxAllContainer = createElement(\"div\", \"geofence-ctrl-list-checkbox-all-container\", geofenceListContainer);\n    _checkboxAll = createElement(\"input\", \"geofence-ctrl-list-checkbox-all\", _checkBoxAllContainer);\n    _checkboxAll.type = \"checkbox\";\n\n    _checkboxAll.addEventListener(\"click\", function () {\n      if (_checkboxAll.checked) {\n        geofenceControl.displayAllGeofences();\n        checkboxAllText.innerHTML = \"Deselect All\";\n      } else {\n        geofenceControl.hideAllGeofences();\n        checkboxAllText.innerHTML = \"Select All\";\n      }\n    });\n\n    const checkboxAllText = createElement(\"div\", \"geofence-ctrl-list-checkbox-all-title\", _checkBoxAllContainer);\n    checkboxAllText.innerHTML = \"Select all\";\n    _addGeofencebutton = createElement(\"div\", \"geofence-ctrl-list-header-add-button\", _checkBoxAllContainer);\n    _addGeofencebutton.innerHTML = \"+ Add\";\n\n    _addGeofencebutton.addEventListener(\"click\", () => {\n      createAddGeofenceContainer();\n    });\n  }\n\n  function renderListItem(geofence) {\n    const container = createElement(\"li\", \"geofence-ctrl-list-item-container\", _geofenceList);\n    container.id = `list-item-${geofence.geofenceId}`;\n    const listItem = createElement(\"li\", \"geofence-ctrl-list-item\", container);\n    const leftContainer = createElement(\"div\", \"geofence-ctrl-list-item-left-container\", listItem);\n    const checkbox = createElement(\"input\", \"geofence-ctrl-list-item-checkbox\", leftContainer);\n    checkbox.id = `list-item-checkbox-${geofence.geofenceId}`;\n    checkbox.type = \"checkbox\";\n    checkbox.addEventListener(\"click\", function () {\n      if (checkbox.checked) {\n        geofenceControl.displayGeofence(geofence.geofenceId);\n        geofenceControl.fitGeofence(geofence.geofenceId);\n      } else {\n        geofenceControl.hideGeofence(geofence.geofenceId);\n      }\n    });\n    const rightContainer = createElement(\"div\", \"geofence-ctrl-list-item-right-container\", listItem);\n    const geofenceTitleContainer = createElement(\"div\", \"geofence-ctrl-list-item-title-container\", rightContainer);\n    geofenceTitleContainer.addEventListener(\"mouseover\", function () {\n      geofenceControl.displayHighlightedGeofence(geofence.geofenceId);\n    });\n    geofenceTitleContainer.addEventListener(\"mouseout\", function () {\n      geofenceControl.hideHighlightedGeofence();\n    });\n    const geofenceTitle = createElement(\"div\", \"geofence-ctrl-list-item-title\", geofenceTitleContainer);\n    geofenceTitle.innerHTML = geofence.geofenceId;\n    const editButton = createElement(\"div\", \"geofence-ctrl-edit-button\", geofenceTitleContainer);\n    editButton.addEventListener(\"click\", function () {\n      geofenceControl.editGeofence(geofence.geofenceId);\n      createEditControls(listItem, rightContainer, leftContainer, geofence.geofenceId);\n      listItem.classList.remove(\"geofence-ctrl-list-item\");\n      listItem.classList.add(\"geofence-ctrl-list-selected-item\");\n    });\n    editButton.appendChild(createEditIcon());\n  }\n\n  function createEditControls(item, rightContainer, leftContainer, id) {\n    const editContainer = createElement(\"div\", \"geofence-ctrl-list-item-controls\", rightContainer);\n    const deleteButton = renderDeleteButton(leftContainer, id);\n\n    const removeEditContainer = () => {\n      item.classList.remove(\"geofence-ctrl-list-selected-item\");\n      item.classList.add(\"geofence-ctrl-list-item\");\n      removeElement(editContainer);\n      removeElement(deleteButton);\n    };\n\n    const cancelButton = createElement(\"div\", \"geofence-ctrl-cancel-button\", editContainer);\n    cancelButton.classList.add(\"geofence-ctrl-button\");\n    cancelButton.innerHTML = \"Cancel\";\n    cancelButton.addEventListener(\"click\", () => {\n      geofenceControl.setEditingModeEnabled(false);\n      removeEditContainer();\n    });\n    const saveGeofenceButton = createElement(\"div\", \"geofence-ctrl-save-button geofence-ctrl-button\", editContainer);\n    saveGeofenceButton.addEventListener(\"click\", () => __awaiter(this, void 0, void 0, function* () {\n      yield geofenceControl.saveGeofence();\n      removeEditContainer();\n    }));\n    saveGeofenceButton.title = \"Save\";\n    saveGeofenceButton.innerHTML = \"Save\";\n  }\n  /************************************************************\n   * Add Geofence Controls\n   *************************************************************/\n\n\n  function removeAddGeofenceContainer() {\n    removeElement(_addGeofenceContainer);\n    clearAddGeofenceError();\n    showCheckboxAllContainer();\n  }\n\n  function clearAddGeofenceError() {\n    if (_errorDiv) {\n      removeElement(_errorDiv);\n      _errorDiv = undefined;\n    }\n  }\n\n  function createAddGeofenceContainer() {\n    hideCheckboxAllContainer();\n    _addGeofenceContainer = createElement(\"div\", \"geofence-ctrl-add-geofence-container\", _checkBoxAllAndCreateContainer);\n    const addGeofencePrompt = createElement(\"div\", \"geofence-ctrl-add-geofence\", _addGeofenceContainer);\n    const nameInput = createElement(\"input\", \"geofence-ctrl-add-geofence-input\", addGeofencePrompt);\n    nameInput.placeholder = \"Enter name\";\n    const buttonContainer = createElement(\"div\", \"geofence-ctrl-add-geofence-buttons\", addGeofencePrompt);\n    const cancelButton = createElement(\"div\", \"geofence-ctrl-add-geofence-cancel-button geofence-ctrl-button \", buttonContainer);\n    cancelButton.innerHTML = \"Cancel\";\n    cancelButton.addEventListener(\"click\", () => {\n      removeAddGeofenceContainer();\n      geofenceControl.setEditingModeEnabled(false);\n    });\n    const saveButton = createElement(\"div\", \"geofence-ctrl-button geofence-ctrl-save-button\", buttonContainer);\n    saveButton.innerHTML = \"Save\";\n    saveButton.addEventListener(\"click\", function () {\n      return __awaiter(this, void 0, void 0, function* () {\n        clearAddGeofenceError();\n        const output = yield geofenceControl.createGeofence(escape(nameInput.value));\n        if (output) removeAddGeofenceContainer();\n      });\n    });\n    geofenceControl.addEditableGeofence();\n  }\n\n  function createAddGeofencePromptError(error) {\n    if (_errorDiv) {\n      return;\n    }\n\n    _errorDiv = createElement(\"div\", \"geofence-ctrl-add-geofence-error\", _addGeofenceContainer);\n    const errorIconContainer = createElement(\"div\", \"geofence-ctrl-add-geofence-error-icon\", _errorDiv);\n    errorIconContainer.appendChild(createErrorIcon());\n    const errorText = createElement(\"div\", \"geofence-ctrl-add-geofence-error-text\", _errorDiv);\n    errorText.innerHTML = error;\n  }\n  /************************************************************\n   * Delete Controls\n   *************************************************************/\n\n\n  function renderDeleteButton(container, id) {\n    const deleteButton = createElement(\"div\", \"geofence-ctrl-delete-button\", container);\n    deleteButton.classList.add(\"geofence-ctrl-button\");\n    deleteButton.addEventListener(\"click\", function () {\n      createConfirmDeleteContainer(id);\n    });\n    deleteButton.appendChild(createTrashIcon());\n    return deleteButton;\n  }\n\n  function createConfirmDeleteContainer(geofenceId) {\n    _deleteGeofenceContainer = createElement(\"div\", \"geofence-ctrl-delete-prompt-container\", geofenceControlContainer);\n    const deleteGeofencePrompt = createElement(\"div\", \"geofence-ctrl-delete-prompt\", _deleteGeofenceContainer);\n    const title = createElement(\"div\", \"geofence-ctrl-delete-geofence-title\", deleteGeofencePrompt);\n    title.innerHTML = `Are you sure you want to delete <strong>${geofenceId}</strong>?`;\n    createDeleteButtonsContainer(deleteGeofencePrompt, geofenceId);\n  }\n\n  function createDeleteButtonsContainer(container, geofenceId) {\n    const deleteButtonsContainer = createElement(\"div\", \"geofence-ctrl-delete-geofence-buttons\", container);\n    const cancelButton = createElement(\"div\", \"geofence-ctrl-delete-geofence-cancel-button\", deleteButtonsContainer);\n    cancelButton.innerHTML = \"Cancel\";\n    cancelButton.addEventListener(\"click\", () => {\n      removeElement(_deleteGeofenceContainer);\n    });\n    const confirmDeleteButton = createElement(\"div\", \"geofence-ctrl-delete-geofence-confirm-button\", deleteButtonsContainer);\n    confirmDeleteButton.innerHTML = \"Delete\";\n    confirmDeleteButton.addEventListener(\"click\", function () {\n      return __awaiter(this, void 0, void 0, function* () {\n        const id = yield geofenceControl.deleteGeofence(geofenceId);\n\n        if (id) {\n          createDeleteResultContainer(true);\n          removeElement(_deleteGeofenceContainer);\n          geofenceControl.setEditingModeEnabled(false);\n        }\n      });\n    });\n  }\n\n  function createDeleteResultContainer(success) {\n    _deletePopdownContainer = createElement(\"div\", \"geofence-ctrl-delete-popdown-container\", geofenceControlContainer);\n    const deletePopdown = createElement(\"div\", \"geofence-ctrl-delete-popdown\", _deletePopdownContainer);\n    const deletePopdownCloseButton = createElement(\"div\", \"geofence-ctrl-delete-popdown-close-button\", _deletePopdownContainer);\n    deletePopdownCloseButton.appendChild(createCloseIcon());\n    deletePopdownCloseButton.addEventListener(\"click\", () => {\n      removeElement(_deletePopdownContainer);\n    });\n    const deleteSuccessIcon = createElement(\"div\", \"geofence-ctrl-delete-popdown-icon\", deletePopdown);\n    deleteSuccessIcon.appendChild(createDeleteSuccessIcon());\n    const deletePopdownText = createElement(\"div\", \"geofence-ctrl-delete-popdown-text\", deletePopdown);\n    deletePopdownText.innerHTML = success ? \"Geofence was deleted successfully\" : \"Geofence failed to delete\";\n  }\n  /************************************************************\n   * Utility Methods\n   *************************************************************/\n\n\n  function updateCheckbox(geofenceId, checked) {\n    const checkbox = document.getElementById(`list-item-checkbox-${geofenceId}`);\n    if (checkbox) checkbox.checked = checked;\n  }\n\n  function removeGeofenceListItem(geofenceId) {\n    const listItem = document.getElementById(`list-item-${geofenceId}`);\n    removeElement(listItem);\n  }\n\n  function setGeofenceListEnabled(enabled) {\n    _checkboxAll.disabled = !enabled;\n    enabled ? _addGeofencebutton.classList.remove(\"geofence-ctrl-noHover\") : _addGeofencebutton.classList.add(\"geofence-ctrl-noHover\");\n    const inputs = document.getElementsByClassName(\"geofence-ctrl-list-item-checkbox\");\n\n    for (let i = 0; i < inputs.length; i++) {\n      inputs.item(i).disabled = !enabled;\n    }\n\n    const items = document.getElementsByClassName(\"geofence-ctrl-list-item-container\");\n\n    for (let i = 0; i < items.length; i++) {\n      enabled ? items.item(i).classList.remove(\"geofence-ctrl-noHover\") : items.item(i).classList.add(\"geofence-ctrl-noHover\");\n    }\n  }\n\n  function getCheckboxAllValue() {\n    return _checkboxAll.checked;\n  }\n\n  function updateGeofenceCount(count) {\n    _geofenceTitle.innerHTML = `Geofences (${count})`;\n  }\n\n  function updateGeofenceRadius(radius) {\n    if (_geofenceCreateRadiusInput) _geofenceCreateRadiusInput.value = `${radius}`;\n  }\n\n  function hideCheckboxAllContainer() {\n    _checkBoxAllContainer.style.display = \"none\";\n  }\n\n  function showCheckboxAllContainer() {\n    _checkBoxAllContainer.style.display = \"flex\";\n  }\n\n  return {\n    registerControlPosition,\n    createElement,\n    removeElement,\n    createGeofenceCreateContainer,\n    createGeofenceListContainer,\n    removeAddGeofenceContainer,\n    createAddGeofencePromptError,\n    renderListItem,\n    updateCheckbox,\n    removeGeofenceListItem,\n    setGeofenceListEnabled,\n    getCheckboxAllValue,\n    removeGeofenceCreateContainer,\n    updateGeofenceCount,\n    updateGeofenceRadius\n  };\n}","map":{"version":3,"sources":["/home/dalienst/node_modules/maplibre-gl-js-amplify/lib/esm/AmplifyGeofenceControl/ui.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","debounce","createElement","removeElement","createErrorIcon","createEditIcon","createPopupStep1Icon","createPopupStep2Icon","createPopupStep3Icon","createPopupStep4Icon","createTrashIcon","createDeleteSuccessIcon","createCloseIcon","AmplifyGeofenceControlUI","geofenceControl","geofenceControlContainer","_addGeofenceContainer","_deleteGeofenceContainer","_addGeofencebutton","_checkboxAll","_geofenceList","_createContainer","_geofenceTitle","_checkBoxAllAndCreateContainer","_checkBoxAllContainer","_circleModeContainer","_polygonModeContainer","_deletePopdownContainer","_errorDiv","_geofenceCreateRadiusInput","registerControlPosition","map","positionName","_controlPositions","positionContainer","document","className","_controlContainer","appendChild","createGeofenceCreateContainer","isCircle","container","buttonContainer","circleModeButton","addEventListener","classList","add","polygonModeButton","remove","undefined","createCircleModeCreateContainer","changeMode","innerHTML","createPolygonModeCreateContainer","radiusTitle","updateInputRadius","moreInfoContainer","moreInfoIcon","letterI","moreInfo","resetButton","resetGeofence","popup","createPolygonModeInfoPopup","toggle","popupContainer","createPopupStep","text","image","popupStep","popupStepImage","popupStepText","removeGeofenceCreateContainer","createGeofenceListContainer","geofenceListContainer","createGeofenceListHeader","scrollHeight","scrollTop","clientHeight","loadMoreGeofences","header","createCheckboxAllContainer","type","checked","displayAllGeofences","checkboxAllText","hideAllGeofences","createAddGeofenceContainer","renderListItem","geofence","id","geofenceId","listItem","leftContainer","checkbox","displayGeofence","fitGeofence","hideGeofence","rightContainer","geofenceTitleContainer","displayHighlightedGeofence","hideHighlightedGeofence","geofenceTitle","editButton","editGeofence","createEditControls","item","editContainer","deleteButton","renderDeleteButton","removeEditContainer","cancelButton","setEditingModeEnabled","saveGeofenceButton","saveGeofence","title","removeAddGeofenceContainer","clearAddGeofenceError","showCheckboxAllContainer","hideCheckboxAllContainer","addGeofencePrompt","nameInput","placeholder","saveButton","output","createGeofence","escape","addEditableGeofence","createAddGeofencePromptError","error","errorIconContainer","errorText","createConfirmDeleteContainer","deleteGeofencePrompt","createDeleteButtonsContainer","deleteButtonsContainer","confirmDeleteButton","deleteGeofence","createDeleteResultContainer","success","deletePopdown","deletePopdownCloseButton","deleteSuccessIcon","deletePopdownText","updateCheckbox","getElementById","removeGeofenceListItem","setGeofenceListEnabled","enabled","disabled","inputs","getElementsByClassName","i","length","items","getCheckboxAllValue","updateGeofenceCount","count","updateGeofenceRadius","radius","style","display"],"mappings":"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","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { debounce } from \"debounce\";\nimport { createElement, removeElement } from \"../utils\";\nimport { createErrorIcon } from \"./icons\";\nimport { createEditIcon, createPopupStep1Icon, createPopupStep2Icon, createPopupStep3Icon, createPopupStep4Icon, createTrashIcon, createDeleteSuccessIcon, createCloseIcon, } from \"./icons\";\nexport function AmplifyGeofenceControlUI(geofenceControl, geofenceControlContainer) {\n    let _addGeofenceContainer;\n    let _deleteGeofenceContainer;\n    let _addGeofencebutton;\n    let _checkboxAll;\n    let _geofenceList;\n    let _createContainer;\n    let _geofenceTitle;\n    let _checkBoxAllAndCreateContainer;\n    let _checkBoxAllContainer;\n    let _circleModeContainer;\n    let _polygonModeContainer;\n    let _deletePopdownContainer;\n    let _errorDiv;\n    let _geofenceCreateRadiusInput;\n    function registerControlPosition(map, positionName) {\n        if (map._controlPositions[positionName]) {\n            return;\n        }\n        const positionContainer = document.createElement(\"div\");\n        positionContainer.className = `maplibregl-ctrl-${positionName}`;\n        map._controlContainer.appendChild(positionContainer);\n        map._controlPositions[positionName] = positionContainer;\n    }\n    /************************************************************\n     * Create Geofence Controls\n     *************************************************************/\n    function createGeofenceCreateContainer(isCircle) {\n        const container = createElement(\"div\", \"geofence-ctrl-create-prompt-container\", geofenceControlContainer);\n        _createContainer = createElement(\"div\", \"geofence-ctrl-create-prompt\", container);\n        if (isCircle) {\n            /* Create buttons to switch between different modes */\n            const buttonContainer = createElement(\"div\", \"geofence-ctrl-create-prompt-buttons\", _createContainer);\n            const circleModeButton = createElement(\"div\", \"geofence-ctrl-create-prompt-button-circle geofence-ctrl-create-prompt-button\", buttonContainer);\n            circleModeButton.addEventListener(\"click\", () => {\n                // Change button selected style\n                circleModeButton.classList.add(\"geofence-ctrl-create-prompt-selected\");\n                polygonModeButton.classList.remove(\"geofence-ctrl-create-prompt-selected\");\n                // Switch info box mode\n                if (_polygonModeContainer) {\n                    removeElement(_polygonModeContainer);\n                    _polygonModeContainer = undefined;\n                }\n                if (!_circleModeContainer)\n                    createCircleModeCreateContainer(_createContainer);\n                geofenceControl.changeMode(\"draw_circle\");\n            });\n            circleModeButton.innerHTML = \"Circle\";\n            const polygonModeButton = createElement(\"div\", \"geofence-ctrl-create-prompt-button-polygon geofence-ctrl-create-prompt-button\", buttonContainer);\n            polygonModeButton.addEventListener(\"click\", () => {\n                geofenceControl.changeMode(\"draw_polygon\");\n                // Change button selected style\n                polygonModeButton.classList.add(\"geofence-ctrl-create-prompt-selected\");\n                circleModeButton.classList.remove(\"geofence-ctrl-create-prompt-selected\");\n                // Switch info box mode\n                if (_circleModeContainer) {\n                    removeElement(_circleModeContainer);\n                    _circleModeContainer = undefined;\n                }\n                if (!_polygonModeContainer)\n                    createPolygonModeCreateContainer(_createContainer);\n            });\n            polygonModeButton.innerHTML = \"Custom\";\n            circleModeButton.classList.add(\"geofence-ctrl-create-prompt-selected\");\n            createCircleModeCreateContainer(_createContainer);\n        }\n        else {\n            createPolygonModeCreateContainer(_createContainer);\n        }\n    }\n    function createCircleModeCreateContainer(container) {\n        _circleModeContainer = createElement(\"div\", \"geofence-ctrl-create-circle-mode-container\", container);\n        const radiusTitle = createElement(\"div\", \"geofence-ctrl-create-circle-mode-title\", _circleModeContainer);\n        radiusTitle.innerHTML = \"Radius\";\n        _geofenceCreateRadiusInput = createElement(\"input\", \"geofence-ctrl-create-circle-mode-input\", _circleModeContainer);\n        _geofenceCreateRadiusInput.addEventListener(\"keydown\", debounce(geofenceControl.updateInputRadius, 200));\n    }\n    function createPolygonModeCreateContainer(container) {\n        _polygonModeContainer = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-container\", container);\n        const moreInfoContainer = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-info-container\", _polygonModeContainer);\n        const moreInfoIcon = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-icon\", moreInfoContainer);\n        const letterI = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-info-icon\", moreInfoIcon);\n        letterI.innerHTML = \"i\";\n        const moreInfo = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-title\", moreInfoContainer);\n        moreInfo.innerHTML = \"How it works?\";\n        const resetButton = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-reset-button geofence-ctrl-button\", _polygonModeContainer);\n        resetButton.innerHTML = \"Reset\";\n        resetButton.addEventListener(\"click\", () => {\n            geofenceControl.resetGeofence();\n        });\n        // Add popup onClick\n        const popup = createPolygonModeInfoPopup(moreInfoIcon);\n        moreInfoContainer.addEventListener(\"click\", () => {\n            popup.classList.toggle(\"show\");\n        });\n    }\n    function createPolygonModeInfoPopup(container) {\n        const popupContainer = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-popup-container\", container);\n        const popup = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-popup\", popupContainer);\n        createPopupStep(popup, \"Move dots to desired position\", createPopupStep1Icon());\n        createPopupStep(popup, \"Click on a border to create a dot\", createPopupStep2Icon());\n        createPopupStep(popup, \"Click into shape to move\", createPopupStep3Icon());\n        createPopupStep(popup, \"Press delete to remove a dot\", createPopupStep4Icon());\n        return popup;\n    }\n    function createPopupStep(container, text, image) {\n        const popupStep = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-popup-step\", container);\n        const popupStepImage = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-popup-step-image\", popupStep);\n        popupStepImage.appendChild(image);\n        const popupStepText = createElement(\"div\", \"geofence-ctrl-create-polygon-mode-popup-step-text\", popupStep);\n        popupStepText.innerHTML = text;\n    }\n    function removeGeofenceCreateContainer() {\n        removeElement(_createContainer);\n        _createContainer = undefined;\n        _circleModeContainer = undefined;\n        _polygonModeContainer = undefined;\n    }\n    /************************************************************\n     * Geofence List\n     *************************************************************/\n    function createGeofenceListContainer() {\n        const geofenceListContainer = createElement(\"div\", \"geofence-ctrl-list-container\", geofenceControlContainer);\n        createGeofenceListHeader(geofenceListContainer);\n        _geofenceList = createElement(\"div\", \"geofence-ctrl-list\", geofenceListContainer);\n        _geofenceList.addEventListener(\"scroll\", () => {\n            const { scrollHeight, scrollTop, clientHeight } = _geofenceList;\n            if (scrollTop + clientHeight >= scrollHeight - 20) {\n                geofenceControl.loadMoreGeofences();\n            }\n        });\n    }\n    function createGeofenceListHeader(geofenceListContainer) {\n        const header = createElement(\"div\", \"geofence-ctrl-list-header\", geofenceListContainer);\n        _geofenceTitle = createElement(\"div\", \"geofence-ctrl-list-header-title\", header);\n        _geofenceTitle.innerHTML = \"Geofences (0)\";\n        _checkBoxAllAndCreateContainer = createElement(\"div\", \"geofence-ctrl-list-header-checkbox-create-container\", header);\n        createCheckboxAllContainer(_checkBoxAllAndCreateContainer);\n    }\n    function createCheckboxAllContainer(geofenceListContainer) {\n        _checkBoxAllContainer = createElement(\"div\", \"geofence-ctrl-list-checkbox-all-container\", geofenceListContainer);\n        _checkboxAll = createElement(\"input\", \"geofence-ctrl-list-checkbox-all\", _checkBoxAllContainer);\n        _checkboxAll.type = \"checkbox\";\n        _checkboxAll.addEventListener(\"click\", function () {\n            if (_checkboxAll.checked) {\n                geofenceControl.displayAllGeofences();\n                checkboxAllText.innerHTML = \"Deselect All\";\n            }\n            else {\n                geofenceControl.hideAllGeofences();\n                checkboxAllText.innerHTML = \"Select All\";\n            }\n        });\n        const checkboxAllText = createElement(\"div\", \"geofence-ctrl-list-checkbox-all-title\", _checkBoxAllContainer);\n        checkboxAllText.innerHTML = \"Select all\";\n        _addGeofencebutton = createElement(\"div\", \"geofence-ctrl-list-header-add-button\", _checkBoxAllContainer);\n        _addGeofencebutton.innerHTML = \"+ Add\";\n        _addGeofencebutton.addEventListener(\"click\", () => {\n            createAddGeofenceContainer();\n        });\n    }\n    function renderListItem(geofence) {\n        const container = createElement(\"li\", \"geofence-ctrl-list-item-container\", _geofenceList);\n        container.id = `list-item-${geofence.geofenceId}`;\n        const listItem = createElement(\"li\", \"geofence-ctrl-list-item\", container);\n        const leftContainer = createElement(\"div\", \"geofence-ctrl-list-item-left-container\", listItem);\n        const checkbox = createElement(\"input\", \"geofence-ctrl-list-item-checkbox\", leftContainer);\n        checkbox.id = `list-item-checkbox-${geofence.geofenceId}`;\n        checkbox.type = \"checkbox\";\n        checkbox.addEventListener(\"click\", function () {\n            if (checkbox.checked) {\n                geofenceControl.displayGeofence(geofence.geofenceId);\n                geofenceControl.fitGeofence(geofence.geofenceId);\n            }\n            else {\n                geofenceControl.hideGeofence(geofence.geofenceId);\n            }\n        });\n        const rightContainer = createElement(\"div\", \"geofence-ctrl-list-item-right-container\", listItem);\n        const geofenceTitleContainer = createElement(\"div\", \"geofence-ctrl-list-item-title-container\", rightContainer);\n        geofenceTitleContainer.addEventListener(\"mouseover\", function () {\n            geofenceControl.displayHighlightedGeofence(geofence.geofenceId);\n        });\n        geofenceTitleContainer.addEventListener(\"mouseout\", function () {\n            geofenceControl.hideHighlightedGeofence();\n        });\n        const geofenceTitle = createElement(\"div\", \"geofence-ctrl-list-item-title\", geofenceTitleContainer);\n        geofenceTitle.innerHTML = geofence.geofenceId;\n        const editButton = createElement(\"div\", \"geofence-ctrl-edit-button\", geofenceTitleContainer);\n        editButton.addEventListener(\"click\", function () {\n            geofenceControl.editGeofence(geofence.geofenceId);\n            createEditControls(listItem, rightContainer, leftContainer, geofence.geofenceId);\n            listItem.classList.remove(\"geofence-ctrl-list-item\");\n            listItem.classList.add(\"geofence-ctrl-list-selected-item\");\n        });\n        editButton.appendChild(createEditIcon());\n    }\n    function createEditControls(item, rightContainer, leftContainer, id) {\n        const editContainer = createElement(\"div\", \"geofence-ctrl-list-item-controls\", rightContainer);\n        const deleteButton = renderDeleteButton(leftContainer, id);\n        const removeEditContainer = () => {\n            item.classList.remove(\"geofence-ctrl-list-selected-item\");\n            item.classList.add(\"geofence-ctrl-list-item\");\n            removeElement(editContainer);\n            removeElement(deleteButton);\n        };\n        const cancelButton = createElement(\"div\", \"geofence-ctrl-cancel-button\", editContainer);\n        cancelButton.classList.add(\"geofence-ctrl-button\");\n        cancelButton.innerHTML = \"Cancel\";\n        cancelButton.addEventListener(\"click\", () => {\n            geofenceControl.setEditingModeEnabled(false);\n            removeEditContainer();\n        });\n        const saveGeofenceButton = createElement(\"div\", \"geofence-ctrl-save-button geofence-ctrl-button\", editContainer);\n        saveGeofenceButton.addEventListener(\"click\", () => __awaiter(this, void 0, void 0, function* () {\n            yield geofenceControl.saveGeofence();\n            removeEditContainer();\n        }));\n        saveGeofenceButton.title = \"Save\";\n        saveGeofenceButton.innerHTML = \"Save\";\n    }\n    /************************************************************\n     * Add Geofence Controls\n     *************************************************************/\n    function removeAddGeofenceContainer() {\n        removeElement(_addGeofenceContainer);\n        clearAddGeofenceError();\n        showCheckboxAllContainer();\n    }\n    function clearAddGeofenceError() {\n        if (_errorDiv) {\n            removeElement(_errorDiv);\n            _errorDiv = undefined;\n        }\n    }\n    function createAddGeofenceContainer() {\n        hideCheckboxAllContainer();\n        _addGeofenceContainer = createElement(\"div\", \"geofence-ctrl-add-geofence-container\", _checkBoxAllAndCreateContainer);\n        const addGeofencePrompt = createElement(\"div\", \"geofence-ctrl-add-geofence\", _addGeofenceContainer);\n        const nameInput = createElement(\"input\", \"geofence-ctrl-add-geofence-input\", addGeofencePrompt);\n        nameInput.placeholder = \"Enter name\";\n        const buttonContainer = createElement(\"div\", \"geofence-ctrl-add-geofence-buttons\", addGeofencePrompt);\n        const cancelButton = createElement(\"div\", \"geofence-ctrl-add-geofence-cancel-button geofence-ctrl-button \", buttonContainer);\n        cancelButton.innerHTML = \"Cancel\";\n        cancelButton.addEventListener(\"click\", () => {\n            removeAddGeofenceContainer();\n            geofenceControl.setEditingModeEnabled(false);\n        });\n        const saveButton = createElement(\"div\", \"geofence-ctrl-button geofence-ctrl-save-button\", buttonContainer);\n        saveButton.innerHTML = \"Save\";\n        saveButton.addEventListener(\"click\", function () {\n            return __awaiter(this, void 0, void 0, function* () {\n                clearAddGeofenceError();\n                const output = yield geofenceControl.createGeofence(escape(nameInput.value));\n                if (output)\n                    removeAddGeofenceContainer();\n            });\n        });\n        geofenceControl.addEditableGeofence();\n    }\n    function createAddGeofencePromptError(error) {\n        if (_errorDiv) {\n            return;\n        }\n        _errorDiv = createElement(\"div\", \"geofence-ctrl-add-geofence-error\", _addGeofenceContainer);\n        const errorIconContainer = createElement(\"div\", \"geofence-ctrl-add-geofence-error-icon\", _errorDiv);\n        errorIconContainer.appendChild(createErrorIcon());\n        const errorText = createElement(\"div\", \"geofence-ctrl-add-geofence-error-text\", _errorDiv);\n        errorText.innerHTML = error;\n    }\n    /************************************************************\n     * Delete Controls\n     *************************************************************/\n    function renderDeleteButton(container, id) {\n        const deleteButton = createElement(\"div\", \"geofence-ctrl-delete-button\", container);\n        deleteButton.classList.add(\"geofence-ctrl-button\");\n        deleteButton.addEventListener(\"click\", function () {\n            createConfirmDeleteContainer(id);\n        });\n        deleteButton.appendChild(createTrashIcon());\n        return deleteButton;\n    }\n    function createConfirmDeleteContainer(geofenceId) {\n        _deleteGeofenceContainer = createElement(\"div\", \"geofence-ctrl-delete-prompt-container\", geofenceControlContainer);\n        const deleteGeofencePrompt = createElement(\"div\", \"geofence-ctrl-delete-prompt\", _deleteGeofenceContainer);\n        const title = createElement(\"div\", \"geofence-ctrl-delete-geofence-title\", deleteGeofencePrompt);\n        title.innerHTML = `Are you sure you want to delete <strong>${geofenceId}</strong>?`;\n        createDeleteButtonsContainer(deleteGeofencePrompt, geofenceId);\n    }\n    function createDeleteButtonsContainer(container, geofenceId) {\n        const deleteButtonsContainer = createElement(\"div\", \"geofence-ctrl-delete-geofence-buttons\", container);\n        const cancelButton = createElement(\"div\", \"geofence-ctrl-delete-geofence-cancel-button\", deleteButtonsContainer);\n        cancelButton.innerHTML = \"Cancel\";\n        cancelButton.addEventListener(\"click\", () => {\n            removeElement(_deleteGeofenceContainer);\n        });\n        const confirmDeleteButton = createElement(\"div\", \"geofence-ctrl-delete-geofence-confirm-button\", deleteButtonsContainer);\n        confirmDeleteButton.innerHTML = \"Delete\";\n        confirmDeleteButton.addEventListener(\"click\", function () {\n            return __awaiter(this, void 0, void 0, function* () {\n                const id = yield geofenceControl.deleteGeofence(geofenceId);\n                if (id) {\n                    createDeleteResultContainer(true);\n                    removeElement(_deleteGeofenceContainer);\n                    geofenceControl.setEditingModeEnabled(false);\n                }\n            });\n        });\n    }\n    function createDeleteResultContainer(success) {\n        _deletePopdownContainer = createElement(\"div\", \"geofence-ctrl-delete-popdown-container\", geofenceControlContainer);\n        const deletePopdown = createElement(\"div\", \"geofence-ctrl-delete-popdown\", _deletePopdownContainer);\n        const deletePopdownCloseButton = createElement(\"div\", \"geofence-ctrl-delete-popdown-close-button\", _deletePopdownContainer);\n        deletePopdownCloseButton.appendChild(createCloseIcon());\n        deletePopdownCloseButton.addEventListener(\"click\", () => {\n            removeElement(_deletePopdownContainer);\n        });\n        const deleteSuccessIcon = createElement(\"div\", \"geofence-ctrl-delete-popdown-icon\", deletePopdown);\n        deleteSuccessIcon.appendChild(createDeleteSuccessIcon());\n        const deletePopdownText = createElement(\"div\", \"geofence-ctrl-delete-popdown-text\", deletePopdown);\n        deletePopdownText.innerHTML = success\n            ? \"Geofence was deleted successfully\"\n            : \"Geofence failed to delete\";\n    }\n    /************************************************************\n     * Utility Methods\n     *************************************************************/\n    function updateCheckbox(geofenceId, checked) {\n        const checkbox = document.getElementById(`list-item-checkbox-${geofenceId}`);\n        if (checkbox)\n            checkbox.checked = checked;\n    }\n    function removeGeofenceListItem(geofenceId) {\n        const listItem = document.getElementById(`list-item-${geofenceId}`);\n        removeElement(listItem);\n    }\n    function setGeofenceListEnabled(enabled) {\n        _checkboxAll.disabled = !enabled;\n        enabled\n            ? _addGeofencebutton.classList.remove(\"geofence-ctrl-noHover\")\n            : _addGeofencebutton.classList.add(\"geofence-ctrl-noHover\");\n        const inputs = document.getElementsByClassName(\"geofence-ctrl-list-item-checkbox\");\n        for (let i = 0; i < inputs.length; i++) {\n            inputs.item(i).disabled = !enabled;\n        }\n        const items = document.getElementsByClassName(\"geofence-ctrl-list-item-container\");\n        for (let i = 0; i < items.length; i++) {\n            enabled\n                ? items.item(i).classList.remove(\"geofence-ctrl-noHover\")\n                : items.item(i).classList.add(\"geofence-ctrl-noHover\");\n        }\n    }\n    function getCheckboxAllValue() {\n        return _checkboxAll.checked;\n    }\n    function updateGeofenceCount(count) {\n        _geofenceTitle.innerHTML = `Geofences (${count})`;\n    }\n    function updateGeofenceRadius(radius) {\n        if (_geofenceCreateRadiusInput)\n            _geofenceCreateRadiusInput.value = `${radius}`;\n    }\n    function hideCheckboxAllContainer() {\n        _checkBoxAllContainer.style.display = \"none\";\n    }\n    function showCheckboxAllContainer() {\n        _checkBoxAllContainer.style.display = \"flex\";\n    }\n    return {\n        registerControlPosition,\n        createElement,\n        removeElement,\n        createGeofenceCreateContainer,\n        createGeofenceListContainer,\n        removeAddGeofenceContainer,\n        createAddGeofencePromptError,\n        renderListItem,\n        updateCheckbox,\n        removeGeofenceListItem,\n        setGeofenceListEnabled,\n        getCheckboxAllValue,\n        removeGeofenceCreateContainer,\n        updateGeofenceCount,\n        updateGeofenceRadius,\n    };\n}\n"]},"metadata":{},"sourceType":"module"}