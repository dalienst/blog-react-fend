{"ast":null,"code":"import { useState as e, useEffect as r } from \"react\";\nimport { ConsoleLogger as o } from \"@aws-amplify/core\";\nimport { ImagePrefetchStatus as t } from \"./types.js\";\nconst a = new o(\"Notifications.InAppMessaging\");\n\nfunction n(o) {\n  const {\n    src: n\n  } = null != o ? o : {},\n        s = !!n,\n        [c, i] = e(s ? t.Fetching : null),\n        l = c === t.Fetching,\n        m = c === t.Success;\n  return r(() => {\n    if (!s) return;\n    const e = new Image();\n    e.onload = () => {\n      i(t.Success);\n    }, e.onabort = () => {\n      a.error(`Image load aborted: ${n}`), i(t.Aborted);\n    }, e.onerror = () => {\n      a.error(`Image failed to load: ${n}`), i(t.Failure);\n    }, e.src = n;\n  }, [s, n]), {\n    hasRenderableImage: m,\n    isImageFetching: l\n  };\n}\n\nexport { n as default };","map":{"version":3,"sources":["/home/dalienst/node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/hooks/useMessageImage/useMessageImage.js"],"names":["useState","e","useEffect","r","ConsoleLogger","o","ImagePrefetchStatus","t","a","n","src","s","c","i","Fetching","l","m","Success","Image","onload","onabort","error","Aborted","onerror","Failure","hasRenderableImage","isImageFetching","default"],"mappings":"AAAA,SAAOA,QAAQ,IAAIC,CAAnB,EAAqBC,SAAS,IAAIC,CAAlC,QAAwC,OAAxC;AAAgD,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,mBAA9B;AAAkD,SAAOC,mBAAmB,IAAIC,CAA9B,QAAoC,YAApC;AAAiD,MAAMC,CAAC,GAAC,IAAIH,CAAJ,CAAM,8BAAN,CAAR;;AAA8C,SAASI,CAAT,CAAWJ,CAAX,EAAa;AAAC,QAAK;AAACK,IAAAA,GAAG,EAACD;AAAL,MAAQ,QAAMJ,CAAN,GAAQA,CAAR,GAAU,EAAvB;AAAA,QAA0BM,CAAC,GAAC,CAAC,CAACF,CAA9B;AAAA,QAAgC,CAACG,CAAD,EAAGC,CAAH,IAAMZ,CAAC,CAACU,CAAC,GAACJ,CAAC,CAACO,QAAH,GAAY,IAAd,CAAvC;AAAA,QAA2DC,CAAC,GAACH,CAAC,KAAGL,CAAC,CAACO,QAAnE;AAAA,QAA4EE,CAAC,GAACJ,CAAC,KAAGL,CAAC,CAACU,OAApF;AAA4F,SAAOd,CAAC,CAAE,MAAI;AAAC,QAAG,CAACQ,CAAJ,EAAM;AAAO,UAAMV,CAAC,GAAC,IAAIiB,KAAJ,EAAR;AAAkBjB,IAAAA,CAAC,CAACkB,MAAF,GAAS,MAAI;AAACN,MAAAA,CAAC,CAACN,CAAC,CAACU,OAAH,CAAD;AAAa,KAA3B,EAA4BhB,CAAC,CAACmB,OAAF,GAAU,MAAI;AAACZ,MAAAA,CAAC,CAACa,KAAF,CAAS,uBAAsBZ,CAAE,EAAjC,GAAoCI,CAAC,CAACN,CAAC,CAACe,OAAH,CAArC;AAAiD,KAA5F,EAA6FrB,CAAC,CAACsB,OAAF,GAAU,MAAI;AAACf,MAAAA,CAAC,CAACa,KAAF,CAAS,yBAAwBZ,CAAE,EAAnC,GAAsCI,CAAC,CAACN,CAAC,CAACiB,OAAH,CAAvC;AAAmD,KAA/J,EAAgKvB,CAAC,CAACS,GAAF,GAAMD,CAAtK;AAAwK,GAA9M,EAAgN,CAACE,CAAD,EAAGF,CAAH,CAAhN,CAAD,EAAwN;AAACgB,IAAAA,kBAAkB,EAACT,CAApB;AAAsBU,IAAAA,eAAe,EAACX;AAAtC,GAA/N;AAAwQ;;AAAA,SAAON,CAAC,IAAIkB,OAAZ","sourcesContent":["import{useState as e,useEffect as r}from\"react\";import{ConsoleLogger as o}from\"@aws-amplify/core\";import{ImagePrefetchStatus as t}from\"./types.js\";const a=new o(\"Notifications.InAppMessaging\");function n(o){const{src:n}=null!=o?o:{},s=!!n,[c,i]=e(s?t.Fetching:null),l=c===t.Fetching,m=c===t.Success;return r((()=>{if(!s)return;const e=new Image;e.onload=()=>{i(t.Success)},e.onabort=()=>{a.error(`Image load aborted: ${n}`),i(t.Aborted)},e.onerror=()=>{a.error(`Image failed to load: ${n}`),i(t.Failure)},e.src=n}),[s,n]),{hasRenderableImage:m,isImageFetching:l}}export{n as default};\n"]},"metadata":{},"sourceType":"module"}