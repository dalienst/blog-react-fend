{"ast":null,"code":"import { __awaiter as t, __generator as n, __assign as r } from \"tslib\";\nimport { Amplify as i, Auth as o } from \"aws-amplify\";\nimport \"lodash/includes\";\nimport \"../../types/authenticator/user.js\";\nimport \"../../types/authenticator/attributes.js\";\nimport \"../../types/primitives/componentClassName.js\";\nimport \"../../i18n/translations.js\";\nimport { hasSpecialChars as s } from \"../../helpers/authenticator/utils.js\";\nimport \"lodash/cloneDeep\";\nvar e = {\n  getAmplifyConfig: function () {\n    return t(this, void 0, void 0, function () {\n      return n(this, function (t) {\n        return [2, i.configure()];\n      });\n    });\n  },\n  getCurrentUser: function () {\n    return t(this, void 0, void 0, function () {\n      return n(this, function (t) {\n        return [2, o.currentAuthenticatedUser()];\n      });\n    });\n  },\n  handleSignUp: function (i) {\n    return t(this, void 0, void 0, function () {\n      return n(this, function (t) {\n        return [2, o.signUp(r(r({}, i), {\n          autoSignIn: {\n            enabled: !0\n          }\n        }))];\n      });\n    });\n  },\n  handleSignIn: function (r) {\n    var i = r.username,\n        s = r.password;\n    return t(this, void 0, void 0, function () {\n      return n(this, function (t) {\n        return [2, o.signIn(i, s)];\n      });\n    });\n  },\n  handleConfirmSignIn: function (r) {\n    var i = r.user,\n        s = r.code,\n        e = r.mfaType;\n    return t(this, void 0, void 0, function () {\n      return n(this, function (t) {\n        return [2, o.confirmSignIn(i, s, e)];\n      });\n    });\n  },\n  handleConfirmSignUp: function (r) {\n    var i = r.username,\n        s = r.code;\n    return t(this, void 0, void 0, function () {\n      return n(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return [4, o.confirmSignUp(i, s)];\n\n          case 1:\n            return [2, t.sent()];\n        }\n      });\n    });\n  },\n  handleForgotPasswordSubmit: function (r) {\n    var i = r.username,\n        s = r.code,\n        e = r.password;\n    return t(this, void 0, void 0, function () {\n      return n(this, function (t) {\n        return [2, o.forgotPasswordSubmit(i, s, e)];\n      });\n    });\n  },\n  handleForgotPassword: function (r) {\n    return t(this, void 0, void 0, function () {\n      return n(this, function (t) {\n        return [2, o.forgotPassword(r)];\n      });\n    });\n  },\n  validateCustomSignUp: function (r, i) {\n    return t(this, void 0, void 0, function () {\n      return n(this, function (t) {\n        return [2];\n      });\n    });\n  },\n  validateFormPassword: function (r, i, o) {\n    return t(this, void 0, void 0, function () {\n      var t, e, u, a;\n      return n(this, function (n) {\n        return t = r.password, i.password && o ? (e = [], u = +(null == o ? void 0 : o.passwordPolicyMinLength), t.length < u && e.push(\"Password must have at least \".concat(u, \" characters\")), null == (a = null == o ? void 0 : o.passwordPolicyCharacters) || a.forEach(function (n) {\n          switch (n) {\n            case \"REQUIRES_LOWERCASE\":\n              /[a-z]/.test(t) || e.push(\"Password must have lower case letters\");\n              break;\n\n            case \"REQUIRES_UPPERCASE\":\n              /[A-Z]/.test(t) || e.push(\"Password must have upper case letters\");\n              break;\n\n            case \"REQUIRES_NUMBERS\":\n              /[0-9]/.test(t) || e.push(\"Password must have numbers\");\n              break;\n\n            case \"REQUIRES_SYMBOLS\":\n              s(t) || e.push(\"Password must have special characters\");\n          }\n        }), [2, 0 !== e.length ? {\n          password: e\n        } : null]) : [2, null];\n      });\n    });\n  },\n  validateConfirmPassword: function (r, i) {\n    return t(this, void 0, void 0, function () {\n      var t, o, s, e;\n      return n(this, function (n) {\n        return t = r.password, o = r.confirm_password, s = i.confirm_password, e = i.password, t || o ? (t || o) && t !== o && (s && e || (null == t ? void 0 : t.length) >= 6 && (null == o ? void 0 : o.length) >= 6) ? [2, {\n          confirm_password: \"Your passwords must match\"\n        }] : [2] : [2, null];\n      });\n    });\n  },\n  validatePreferredUsername: function (r, i) {\n    return t(this, void 0, void 0, function () {\n      return n(this, function (t) {\n        return [2];\n      });\n    });\n  }\n};\nexport { e as defaultServices };","map":{"version":3,"sources":["/home/dalienst/node_modules/@aws-amplify/ui/dist/esm/machines/authenticator/defaultServices.js"],"names":["__awaiter","t","__generator","n","__assign","r","Amplify","i","Auth","o","hasSpecialChars","s","e","getAmplifyConfig","configure","getCurrentUser","currentAuthenticatedUser","handleSignUp","signUp","autoSignIn","enabled","handleSignIn","username","password","signIn","handleConfirmSignIn","user","code","mfaType","confirmSignIn","handleConfirmSignUp","label","confirmSignUp","sent","handleForgotPasswordSubmit","forgotPasswordSubmit","handleForgotPassword","forgotPassword","validateCustomSignUp","validateFormPassword","u","a","passwordPolicyMinLength","length","push","concat","passwordPolicyCharacters","forEach","test","validateConfirmPassword","confirm_password","validatePreferredUsername","defaultServices"],"mappings":"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","sourcesContent":["import{__awaiter as t,__generator as n,__assign as r}from\"tslib\";import{Amplify as i,Auth as o}from\"aws-amplify\";import\"lodash/includes\";import\"../../types/authenticator/user.js\";import\"../../types/authenticator/attributes.js\";import\"../../types/primitives/componentClassName.js\";import\"../../i18n/translations.js\";import{hasSpecialChars as s}from\"../../helpers/authenticator/utils.js\";import\"lodash/cloneDeep\";var e={getAmplifyConfig:function(){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,i.configure()]}))}))},getCurrentUser:function(){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,o.currentAuthenticatedUser()]}))}))},handleSignUp:function(i){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,o.signUp(r(r({},i),{autoSignIn:{enabled:!0}}))]}))}))},handleSignIn:function(r){var i=r.username,s=r.password;return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,o.signIn(i,s)]}))}))},handleConfirmSignIn:function(r){var i=r.user,s=r.code,e=r.mfaType;return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,o.confirmSignIn(i,s,e)]}))}))},handleConfirmSignUp:function(r){var i=r.username,s=r.code;return t(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,o.confirmSignUp(i,s)];case 1:return[2,t.sent()]}}))}))},handleForgotPasswordSubmit:function(r){var i=r.username,s=r.code,e=r.password;return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,o.forgotPasswordSubmit(i,s,e)]}))}))},handleForgotPassword:function(r){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,o.forgotPassword(r)]}))}))},validateCustomSignUp:function(r,i){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2]}))}))},validateFormPassword:function(r,i,o){return t(this,void 0,void 0,(function(){var t,e,u,a;return n(this,(function(n){return t=r.password,i.password&&o?(e=[],u=+(null==o?void 0:o.passwordPolicyMinLength),t.length<u&&e.push(\"Password must have at least \".concat(u,\" characters\")),null==(a=null==o?void 0:o.passwordPolicyCharacters)||a.forEach((function(n){switch(n){case\"REQUIRES_LOWERCASE\":/[a-z]/.test(t)||e.push(\"Password must have lower case letters\");break;case\"REQUIRES_UPPERCASE\":/[A-Z]/.test(t)||e.push(\"Password must have upper case letters\");break;case\"REQUIRES_NUMBERS\":/[0-9]/.test(t)||e.push(\"Password must have numbers\");break;case\"REQUIRES_SYMBOLS\":s(t)||e.push(\"Password must have special characters\")}})),[2,0!==e.length?{password:e}:null]):[2,null]}))}))},validateConfirmPassword:function(r,i){return t(this,void 0,void 0,(function(){var t,o,s,e;return n(this,(function(n){return t=r.password,o=r.confirm_password,s=i.confirm_password,e=i.password,t||o?(t||o)&&t!==o&&(s&&e||(null==t?void 0:t.length)>=6&&(null==o?void 0:o.length)>=6)?[2,{confirm_password:\"Your passwords must match\"}]:[2]:[2,null]}))}))},validatePreferredUsername:function(r,i){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2]}))}))}};export{e as defaultServices};\n"]},"metadata":{},"sourceType":"module"}