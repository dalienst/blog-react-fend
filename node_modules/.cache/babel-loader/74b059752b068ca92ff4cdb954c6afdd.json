{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar _a;\n\nimport { InAppMessageInteractionEvent } from './types';\nvar onMessageActionListeners = (_a = {}, _a[InAppMessageInteractionEvent.MESSAGE_RECEIVED] = new Set(), _a[InAppMessageInteractionEvent.MESSAGE_DISPLAYED] = new Set(), _a[InAppMessageInteractionEvent.MESSAGE_DISMISSED] = new Set(), _a[InAppMessageInteractionEvent.MESSAGE_ACTION_TAKEN] = new Set(), _a);\nexport var notifyMessageInteractionEventListeners = function (message, event) {\n  onMessageActionListeners[event].forEach(function (listener) {\n    listener.handleEvent(message);\n  });\n};\nexport var addMessageInteractionEventListener = function (handler, event) {\n  var listener = {\n    handleEvent: handler,\n    remove: function () {\n      onMessageActionListeners[event].delete(listener);\n    }\n  };\n  onMessageActionListeners[event].add(listener);\n  return listener;\n};","map":{"version":3,"mappings":"AAAA;AACA;;;AAEA,SAECA,4BAFD,QAKO,SALP;AAOA,IAAMC,wBAAwB,aAI7BC,GAACF,4BAA4B,CAACG,gBAA9B,IAAiD,IAAIC,GAAJ,EAJpB,EAK7BF,GAACF,4BAA4B,CAACK,iBAA9B,IAAkD,IAAID,GAAJ,EALrB,EAM7BF,GAACF,4BAA4B,CAACM,iBAA9B,IAAkD,IAAIF,GAAJ,EANrB,EAO7BF,GAACF,4BAA4B,CAACO,oBAA9B,IAAqD,IAAIH,GAAJ,EAPxB,KAA9B;AAUA,OAAO,IAAMI,sCAAsC,GAAG,UACrDC,OADqD,EAErDC,KAFqD,EAElB;AAEnCT,0BAAwB,CAACS,KAAD,CAAxB,CAAgCC,OAAhC,CAAwC,oBAAQ;AAC/CC,YAAQ,CAACC,WAAT,CAAqBJ,OAArB;AACA,GAFD;AAGA,CAPM;AASP,OAAO,IAAMK,kCAAkC,GAAG,UACjDC,OADiD,EAEjDL,KAFiD,EAEd;AAEnC,MAAME,QAAQ,GAAG;AAChBC,eAAW,EAAEE,OADG;AAEhBC,UAAM,EAAE;AACPf,8BAAwB,CAACS,KAAD,CAAxB,CAAgCO,MAAhC,CAAuCL,QAAvC;AACA;AAJe,GAAjB;AAMAX,0BAAwB,CAACS,KAAD,CAAxB,CAAgCQ,GAAhC,CAAoCN,QAApC;AACA,SAAOA,QAAP;AACA,CAZM","names":["InAppMessageInteractionEvent","onMessageActionListeners","_a","MESSAGE_RECEIVED","Set","MESSAGE_DISPLAYED","MESSAGE_DISMISSED","MESSAGE_ACTION_TAKEN","notifyMessageInteractionEventListeners","message","event","forEach","listener","handleEvent","addMessageInteractionEventListener","handler","remove","delete","add"],"sources":["/home/dalienst/node_modules/@aws-amplify/notifications/src/InAppMessaging/eventListeners.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n\tInAppMessage,\n\tInAppMessageInteractionEvent,\n\tOnMessageInteractionEventHandler,\n\tOnMessageInteractionEventListener,\n} from './types';\n\nconst onMessageActionListeners: Record<\n\tInAppMessageInteractionEvent,\n\tSet<OnMessageInteractionEventListener>\n> = {\n\t[InAppMessageInteractionEvent.MESSAGE_RECEIVED]: new Set(),\n\t[InAppMessageInteractionEvent.MESSAGE_DISPLAYED]: new Set(),\n\t[InAppMessageInteractionEvent.MESSAGE_DISMISSED]: new Set(),\n\t[InAppMessageInteractionEvent.MESSAGE_ACTION_TAKEN]: new Set(),\n};\n\nexport const notifyMessageInteractionEventListeners = (\n\tmessage: InAppMessage,\n\tevent: InAppMessageInteractionEvent\n): void => {\n\tonMessageActionListeners[event].forEach(listener => {\n\t\tlistener.handleEvent(message);\n\t});\n};\n\nexport const addMessageInteractionEventListener = (\n\thandler: OnMessageInteractionEventHandler,\n\tevent: InAppMessageInteractionEvent\n): OnMessageInteractionEventListener => {\n\tconst listener = {\n\t\thandleEvent: handler,\n\t\tremove: () => {\n\t\t\tonMessageActionListeners[event].delete(listener);\n\t\t},\n\t};\n\tonMessageActionListeners[event].add(listener);\n\treturn listener;\n};\n"]},"metadata":{},"sourceType":"module"}